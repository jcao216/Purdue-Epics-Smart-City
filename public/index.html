<!DOCTYPE html>

<head>
    <title>Smart City</title>
	<!--<script src = "jquery.js"></script>-->
    <!-- <div style="background-color:#D4AF37;"class="jumbotron jumbotron-fluid"> -->
	<title></title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

<style>
body {font-family: Arial, Helvetica, sans-serif;}

#myImg {
  border-radius: 5px;
  cursor: pointer;
  transition: 0.3s;
}

#myImg:hover {opacity: 0.7;}
tr {
  height: 100px;
}
td{
  height: 100px;
}

/* The Modal (background) */
.modal {
  display: none; /* Hidden by default */
  position: fixed; /* Stay in place */
  z-index: 1; /* Sit on top */
  padding-top: 100px; /* Location of the box */
  left: 0;
  top: 0;
  width: 100%; /* Full width */
  height: 100%; /* Full height */
  overflow: auto; /* Enable scroll if needed */
  background-color: rgb(0,0,0); /* Fallback color */
  background-color: rgba(0,0,0,0.9); /* Black w/ opacity */
}

/* Modal Content (image) */
.modal-content {
  margin: auto;
  display: block;
  width: auto;
  max-width: 700px;
  height:90%;
  max-height: 700px;
}

/* Caption of Modal Image */
#caption {
  margin: auto;
  display: block;
  width: 80%;
  max-width: 700px;
  text-align: center;
  color: #ccc;
  padding: 10px 0;
  height: 150px;
}

/* Add Animation */
.modal-content, #caption {  
  -webkit-animation-name: zoom;
  -webkit-animation-duration: 0.6s;
  animation-name: zoom;
  animation-duration: 0.6s;
}

@-webkit-keyframes zoom {
  from {-webkit-transform:scale(0)} 
  to {-webkit-transform:scale(1)}
}

@keyframes zoom {
  from {transform:scale(0)} 
  to {transform:scale(1)}
}

/* The Close Button */
.close {
  position: absolute;
  top: 15px;
  right: 35px;
  color: #f1f1f1;
  font-size: 40px;
  font-weight: bold;
  transition: 0.3s;
}

.close:hover,
.close:focus {
  color: #bbb;
  text-decoration: none;
  cursor: pointer;
}

/* 100% Image Width on Smaller Screens */
@media only screen and (max-width: 700px){
  .modal-content {
    width: 100%;
  }
}

#myBtn {
              display: none;
              position: fixed;
              bottom: 20px;
              right: 30px;
              z-index: 0;
              font-size: 18px;
              border: none;
              outline: none;
              background-color: red;
              color: white;
              cursor: pointer;
              padding: 15px;
              border-radius: 4px;
            }
            
#myBtn:hover {
  background-color: #555;
}
</style>
</head>

<!--<body onload="refresh(1)">-->
	
<body>
    <script src="./smart_city/public/js/backToTop.js"></script>
    <button onclick="topFunction()" id="myBtn" title="Go To Top">TOP</button>
    <div class="jumbotron jumbotron-fluid" style = "background-color:#CFB53B">
        <div class="row">
            <div class="col-sm-2">
                <p>Purdue EPICS</p>
            </div>
            <div class="col-sm-8">
                <h1 class="h1">West Lafayette <i class="fa fa-map" aria-hidden="true"></i> Smart City</h1>
            </div>
            
            </div>
            <div class="container">
            <div class="row" width=100%>
              <div class="col-sm-1">
              </div>
              
                <div class="col-sm-3">
                    <select class="custom-select" id="statusDrop">
                        <option selected disabled value="all">Status</i>
                        </option>
                        <option  value="1">Submitted</option>
                        <option  value="2">Pending Action</option>
                        <option  value="3">In Progress</option>
                        <option = value="3">Resolved</option>
                    </select>
                </div>
                <div class="col-sm-2">
                    <select id="street_select" class="custom-select">

                        <option selected disabled value="all">Street</i>
                        </option>
                        <option value="all">All Streets</option>
                    </select>

                </div>
                
                <div class="col-sm-2">
                    <select id="date_select" class="custom-select">
                        <option disabled selected value="all">From Date </i>
                        </option>
                        <option value="all">All Dates</option>
                    </select>

                </div>
                <div class="col-sm-3">
                    <select id="up_to_date" class="custom-select">
                        <option disabled selected value="all">To Date: </i>
                        </option>
                    </select>
                </div>
            </div>
        </div>
        </div>

        <div class="container">
            <div class="row">
                <div class="col-sm-3">



                </div>
                <div class="col-sm-3">

                </div>
                <div class="col-sm-3">


                </div>
                <div class="col-sm-3">
    
                </div>
            </div>
        </div>
	</div>
	<div id="map" ></div>

  

    <script>
      var map;
      function initMap1() {
        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: 40.4237, lng: -86.9212},
          zoom: 15
        });
        
      }
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCJrhwlTG-VkMQh1H6x3YXAT7HnQjJXMgk&callback=initMap1"
  type="text/javascript"></script>


	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous"></link>
    <link rel="stylesheet" type="text/css" href="smart_city/public/css/smart_city.css"></link>
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"></link>
<style>
  thead{
    font-weight: bold;
    background-color: #879ab7;
  }
</style>
<table style="width:100%">

<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.0.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/3.1.0/firebase.js"></script>


<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/7.0.0/firebase-analytics.js"></script>

<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyCN7iuFSyEUezMF7kaqCFkiYeDrOTLB98I",
    authDomain: "pothole-detector-72f29.firebaseapp.com",
    databaseURL: "https://pothole-detector-72f29.firebaseio.com",
    projectId: "pothole-detector-72f29",
    storageBucket: "",
    messagingSenderId: "998744176652",
    appId: "1:998744176652:web:66a3cd89c1e303cee49629",
    measurementId: "G-M9JLKPZN77"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();
</script>


    <section class="container">
    
        <h2 style="color:#34738f;" ><center>Reports</center></h2>
    
	
<script src="./smart_city/public/js/fire.js"></script>
<!--This is the filter script-->
<script>
//this function looks for the filter that the user selects
function absorbInput()  {
//window.alert("absorbed input");
var c0 = document.getElementById("status").value;
var c1 = document.getElementById("date_select").value;
var c2 = document.getElementById("issue_select").value;
var inputArray = [c0,c1,c2];
//window.alert(inputArray);
//var statusResult = c0.options[c0.selectedIndex].text;
if ((c0 == "all") && (c1 == "all") && (c2 == "all")) //no filter was chosen at all
{
	//window.prompt("No filter chosen");
	filteringAlgorithm("all","-1");
}
else if ((c0 != "all") && (c1 == "all") && (c2 == "all")) //the status filter is active
{
	//window.prompt("filter1 chosen");
	filteringAlgorithm(c0,0);
}
else if ((c0 == "all") && (c1 != "all") && (c2 == "all")) //date filter is now active
{
	//window.prompt("filter2 chosen");
	filteringAlgorithm(c1,1);
}
else if ((c0 == "all") && (c1 == "all") && (c2 != "all")) //issue filter is now active
{
	//window.prompt("filter3 chosen");
	filteringAlgorithm(c2,2);
}
else
{
	window.prompt("Please use one filter at a time.");
}
}
//this function actually filters the table and hides the rows that do no match the filter criteria
function filteringAlgorithm(inVar, columnNum) {
//window.prompt("Got to filtering");
  // Declare variables 
  var input, filter, table, tr, td, i;
  //input = document.getElementById("myInput");
  input = inVar;
  //window.alert(input);
  //filter = input.value.toUpperCase();
  
  //window.alert("can it go to uppercase");
  table = document.getElementById("ourTable");
  //window.alert(table);
  tbody = table.getElementsByTagName("tbody");
  tr = table.getElementsByTagName("tr");
  
//document.getElementById("ourTable").rows[0].cells[1].innerHTML; <= retrieves text from inside a specific row and column
//document.getElementById("ourTable").rows[i].cells[columnNum].innerHTML;
  // Loop through all table rows, and hide those who don't match the search query'
  //window.alert("does tbody exist?");
  //window.alert(table.rows.length);
  for (i = 0; i< table.rows.length; i++) {
	if (table.rows[i].cells[columnNum].innerHTML != inVar && (columnNum >= 0)) { //not matching
	  tr[i].style.display = "none";
	}
	else if ((table.rows[i].cells[columnNum].innerHTML == inVar) | (columnNum == "-1")) { //finds match
	    for (i2 = 0; i2 < table.rows.length; i2++) {  //go through table to reappear
			if (table.rows[i2].cells[columnNum].innerHTML == inVar) {
			tr[i2].style.display = "";
			}
		}
	}
  }
}
function dateFilteringAlgorithm(input,columnNumber)
{
var table = document.getElementById("ourTable");
tr = table.getElementsByTagName("tr");
}
<!-- //restores table to original state if no filters are applied -->
<!-- function restoreTable() { -->
  <!-- window.prompt("Restoring table"); -->
  <!-- var table = document.getElementById("ourTable"); -->
  <!-- tr = table.getElementsByTagName("tr"); -->
	<!-- for (i3 = 0; i3 < table.rows.length; i3++) {  //go through table to reappear -->
		<!-- if (table.rows[i3].style == "none") { -->
		<!-- tr[i3].style.display = ""; -->
		<!-- } -->
	<!-- } -->
<!-- } -->
</script>
    </section>

  <div id="myModal" class="modal">
    <span class="close">&times;</span>
    <img class="modal-content" id="img01">
    <div id="caption"></div>
  </div>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
</body>

